generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id         String  @id @default(uuid())
  name       String
  email      String  @unique
  cpf        String
  age        String?
  phone      String
  password   String
  isVerified Boolean @default(false)

  address          Address?
  animalsFound     AnimalFound[]
  lostAnimals      LostAnimal[]
  availableAnimals AvailableAnimal[]
  sendedMessages   Message[]         @relation(name: "sendMessages")
  receivedMessages Message[]         @relation(name: "receivedMessages")
}

model Message {
  id       String @id @default(uuid())
  title    String
  content  String
  senderId String

  receiverId String
  sender     User?  @relation(fields: [senderId], references: [id], name: "sendMessages")
  receiver   User?  @relation(fields: [receiverId], references: [id], name: "receivedMessages")
}

model Address {
  id         String  @id @default(uuid())
  cep        String
  complement String?
  number     String?
  userId     String? @unique
  user       User?   @relation(fields: [userId], references: [id])
}

model AnimalFound {
  id                          String @id @default(uuid())
  photo                       String
  found_location              String
  species                     String
  race                        String
  age                         String 
  color                       String
  size                        String
  distinctive_characteristics String
  userId                      String
  user                        User?  @relation(fields: [userId], references: [id])
}

model LostAnimal {
  id                          String @id @default(uuid())
  species                     String
  race                        String
  age                         String
  color                       String
  size                        String
  distinctive_characteristics String
  date_loss                   String
  location_loss               String
  userId                      String
  user                        User?  @relation(fields: [userId], references: [id])
}

model AvailableAnimal {
  id                          String @id @default(uuid())
  species                     String
  race                        String
  age                         String
  color                       String
  size                        String
  distinctive_characteristics String
  personality_description     String
  userId                      String
  user                        User?  @relation(fields: [userId], references: [id])
}


model Ongs {
  id String @id @default(uuid())
  name String
  age String
  text  String
}